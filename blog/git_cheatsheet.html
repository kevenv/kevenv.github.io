<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Keven Villeneuve's personal website">
        <title>Kevenv - Git cheatsheet</title>
        <link rel="icon" href="../imgs/icon.png">
        <link rel="stylesheet" href="../style/style.css">
        <link rel="stylesheet" href="../style/boxicons-2.1.4/css/boxicons.min.css">
<link rel="stylesheet" href="../style/codehilite.css">

    </head>
    <body>
        <header>
            <h1>~/kevenv</h1>
            <nav>
                <a href="../index.html">Home</a>
                <a href="../about.html">About</a>
                <a href="../publications.html">Publications</a>
                <a href="../projects.html">Projects</a>
                <a href="../blog.html">Blog</a>
            </nav>
        </header>
        <hr>
<h1>Git cheatsheet</h1>
<h2>Flow</h2>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>[Working directory] -&gt; [Staging Area (Index)] -&gt; [Repository] -&gt; [Remote]
                   add                      commit           push
</code></pre></div></td></tr></table></div>

<h2>Basic</h2>
<ul>
<li><code>git init</code> : init directory as a git repo</li>
<li><code>git clone [url]</code> : clone repo</li>
<li><code>git branch</code> : list branches</li>
<li><code>git checkout [branch]</code> : switch branch</li>
<li><code>git checkout -b [branch]</code> : create new branch</li>
<li><code>git checkout [commit]</code> : switch branch to specific commit</li>
<li><code>git fetch</code> : fetch changes</li>
<li><code>git pull</code> : fetch + merge changes</li>
<li><code>git push</code> : push changes<ul>
<li><code>git push origin [branch]</code> : push branch</li>
<li><code>git push --force origin [branch]</code> : push branch after rebase</li>
</ul>
</li>
<li><code>git add [file]</code> : add changes<ul>
<li><code>git add .</code> : add all changes</li>
<li><code>git add -p</code> : add changes interactively</li>
</ul>
</li>
<li><code>git commit -m "[message]"</code> : commit changes</li>
<li><code>git status</code> : status of local repo</li>
<li><code>git diff [file a] [file b]</code> : diff two files<ul>
<li><code>--cached</code> : diff the added files</li>
<li><code>-w</code> : ignore whitespaces</li>
<li><code>-b</code> : ignore whitespaces at eol</li>
<li><code>--ignore-cr-at-eol</code> : ignore endlines</li>
<li><code>--name-only</code> : only list files</li>
</ul>
</li>
<li><code>git -c core.fileMode=false diff</code> : diff two files, ignore file permissions</li>
</ul>
<h2>Stash &amp; Patch</h2>
<ul>
<li><code>git stash</code><ul>
<li><code>save "[message]"</code> : stash current changes</li>
<li><code>list</code> : show stash</li>
<li><code>pop</code> : pop stash</li>
<li><code>drop</code> : drop stash</li>
<li><code>apply stash@{0}</code> : apply stash</li>
<li><code>show -p stash@{0}</code> : show stash changes</li>
</ul>
</li>
<li><code>git show -p stash@{0} &gt; [patch file].patch</code> : create patch from stash</li>
<li><code>git diff &gt; [patch file].patch</code> : create patch from unstaged changes</li>
<li><code>git diff --cached &gt; [patch file].patch</code> : create patch from staged changes</li>
<li><code>git apply [patch file].patch</code> : apply patch file</li>
</ul>
<h2>Info</h2>
<ul>
<li><code>git log</code> : show changes log</li>
<li><code>git remote -v</code> : list remote</li>
<li><code>git remote show origin</code> : info on remote</li>
<li><code>git remote add [remote name] [remote url]</code> : add remote</li>
</ul>
<h2>Merge</h2>
<ul>
<li><code>git rebase [src branch]</code> : rebase current branch from another branch</li>
<li><code>git merge [branch]</code> : merge branch into current branch</li>
<li><code>git cherry-pick [commit]</code> : pull specific commit</li>
</ul>
<h2>Revert</h2>
<ul>
<li><code>git reset --soft [commit]</code> : unstage commit</li>
<li><code>git reset --hard [commit]</code> : undo commit</li>
<li><code>git checkout [file]</code> : revert local change to a file</li>
<li><code>git reset --hard HEAD</code> : revert all local changes</li>
<li><code>git reset --soft HEAD~1</code> : undo local commit, not pushed yet</li>
<li><code>git revert [commit]</code> : create revert commit</li>
<li><code>git clean -xdf</code><ul>
<li><code>-n</code> : dry run</li>
<li><code>-x</code> : ignore <code>.gitignore</code></li>
<li><code>-d</code> : recursive</li>
<li><code>-f</code> : force</li>
<li><code>-X</code> : only ignored files</li>
</ul>
</li>
</ul>
<h2>Submodules</h2>
<ul>
<li><code>git clone --recursive</code> : clone with submodules</li>
<li><code>git submodule update --init --recursive</code> : pull submodules after clone</li>
<li><code>git submodule add [submodule url]</code> : add submodule</li>
</ul>
<h3>Remove submodule</h3>
<ol>
<li><code>git rm [submodule]</code></li>
<li><code>rm -rf .git/modules/[submodule]</code></li>
<li><code>git config --remove-section submodule.[submodule]</code></li>
<li><code>git commit</code></li>
</ol>
<h2>Binary files - LFS (Large File Storage)</h2>
<ol>
<li><code>git lfs install</code> : install LFS, once per user</li>
<li><code>git lfs track "*.[file type]"</code> : add file type to track with LFS</li>
<li><code>git add .gitattributes</code> : make sure that this is tracked</li>
</ol>
<h2>Config</h2>
<ul>
<li><code>cat ~/.gitconfig</code> : show git config</li>
</ul>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code>[user]
    name = [FIRST NAME] [LAST NAME]
    email = [EMAIL]
[credential]
    helper = store
[log]
    date = local
[format]
    pretty = format:%C(yellow)%h %Cblue%&gt;(12)%ad %Cgreen%&lt;(7)%aN%Cred%d %Creset%s
</code></pre></div></td></tr></table></div>

<ul>
<li><code>git config --global pull.rebase true</code> : always rebase on pull</li>
<li><code>git config --global core.autocrlf true</code> : convert CRLF &lt;-&gt; LF (Windows)</li>
</ul>
<h2>GitHub password</h2>
<p>GitHub is no longer accepting account passwords, need to use PAT (Personal Access Token).</p>
<ul>
<li>Create a PAT using <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a></li>
<li><code>git config --global credential.helper store</code><ul>
<li>Stores the PAT in <code>~/.git-credentials</code> (plain text).</li>
</ul>
</li>
<li><code>git pull</code><ul>
<li>Enter the PAT as password, won't be asked ever again.</li>
</ul>
</li>
</ul>
        <hr>
        <footer>
            <div>
                <a href="https://github.com/kevenv"><i class='bx bxl-github bx-sm'></i></a>
                <a href="https://www.linkedin.com/in/kevenv"><i class='bx bxl-linkedin-square bx-sm'></i></a>
                <a href="https://twitter.com/keven_v"><i class='bx bxl-twitter bx-sm'></i></a>
                <a href="discord:kevenv"><i class='bx bxl-discord-alt bx-sm'></i></a>
                <a href="mailto:keven.villeneuve@gmail.com"><i class='bx bxs-envelope bx-sm'></i></a>
            </div>
            <p>&copy; 2024 Keven Villeneuve</p>
        </footer>
    </body>
</html>
