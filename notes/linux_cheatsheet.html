<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Keven Villeneuve's personal website">
        <title>~/kevenv - Linux cheatsheet</title>
        <link rel="icon" href="../imgs/icon.png">
        <link rel="stylesheet" href="../style/style.css">
        <link rel="stylesheet" href="../style/boxicons-2.1.4/css/boxicons.min.css">
<link rel="stylesheet" href="../style/codehilite.css">

    </head>
    <body>
        <header>
            <div class="logo">~/kevenv</div>
            <nav>
                <a href="../index.html">Home</a>
                <a href="../about.html">About</a>
                <a href="../publications.html">Publications</a>
                <a href="../projects.html">Projects</a>
                <a href="../notes.html">Notes</a>
                <a href="../blog.html">Blog</a>
            </nav>
        </header>
        <hr>
<h1>Linux cheatsheet</h1>
<h2>Basic</h2>
<ul>
<li><code>cd [directory]</code> : change directory<ul>
<li><code>cd !$</code> : change directory to last arg</li>
</ul>
</li>
<li><code>ls [directory]</code> : list files &amp; directories<ul>
<li>-l : list</li>
<li>-a : all (hidden too)</li>
<li>-h : human sizes</li>
</ul>
</li>
<li><code>cp [src] [dst]</code> : copy src to dst<ul>
<li>-r : recursive (directory)</li>
</ul>
</li>
<li><code>rm [file or directory]</code> : remove file or directory<ul>
<li>-r : recursive (directory)</li>
<li>-f : force</li>
</ul>
</li>
<li><code>mkdir [directory]</code> : create directory<ul>
<li>-p : create parent directories as needed</li>
</ul>
</li>
<li><code>ln -s [target] [symlink]</code> : create a symlink</li>
<li><code>ln [target] [hardlink]</code> : create a hardlink (same inode)</li>
<li><code>touch [file]</code> : create empty file, mark file as newly edited</li>
<li><code>source [file]</code> : execute a <code>.sh</code> file within the current shell</li>
<li><code>cat [file]</code> : print file to the screen</li>
<li><code>tree -a</code> : print directory hierarchy<ul>
<li>-a : show all files (hidden)</li>
<li>-L [max depth] : max depth</li>
</ul>
</li>
<li><code>tail -n [num of lines] [file]</code> : show last N lines of a file</li>
<li><code>file [file]</code> : get file type</li>
<li><code>stat [file]</code> : get file info (modified, access, creation time)</li>
<li><code>man [cmd]</code> : show manual for cmd</li>
<li><code>tldr</code> [cmd]` :  show short help for cmd</li>
<li><code>pwd</code> : show current directory</li>
<li><code>which [cmd]</code> : show where cmd is located</li>
<li><code>find</code> : find files<ul>
<li><code>find [directory] -name [file]</code> : find file in directory</li>
<li><code>find [directory] -name *.[ext]</code> : find all files of a given type</li>
<li><code>find [directory] -type f -exec grep "[text]" '{}' \; -print</code> : find text in files</li>
<li><code>find / -name "[pattern]" 2&gt;/dev/null</code> : find all and ignore errors</li>
</ul>
</li>
</ul>
<h2>Permissions</h2>
<ul>
<li><code>sudo [cmd]</code> : run a cmd as root</li>
<li><code>chmod [file]</code> : change file permissions<ul>
<li>-R : recursive</li>
<li>+x : make a file executable</li>
<li>+rw : make a file read-write</li>
<li>-w : make a file read-only</li>
</ul>
</li>
<li><code>chown [owner]:[group] [file]</code> : change the owner of a file</li>
<li><code>groups [user]</code> : list groups of a user</li>
<li><code>cat /etc/group</code> : list all groups</li>
</ul>
<h2>Environment variables</h2>
<ul>
<li><code>export [var]=[name]</code> : set an env variable</li>
<li><code>echo $[var]</code> : print env variable</li>
<li><code>echo $PATH</code> : show system PATH</li>
<li><code>export PATH=$PATH:[directory path]</code> : add directory to system PATH</li>
<li><code>echo "export PATH=$PATH:[directory path]" &gt;&gt; ~/.bashrc</code> : change the system PATH permanently</li>
</ul>
<h2>Other</h2>
<ul>
<li><code>ssh -p [port] [user]@[ip]</code> : login to SSH</li>
<li><code>scp [src path] [user]@[ip]:[dst path]</code> : copy file to remote<ul>
<li>-p [port] : specify port</li>
<li>-r : recursive (directory)</li>
</ul>
</li>
<li><code>scp [user]@[ip]:[src path] [dst path]</code> : copy file from remote</li>
<li><code>reboot</code> : reboot system</li>
<li><code>poweroff</code> : shutdown system</li>
<li><code>wget</code> : ?</li>
<li><code>tar -czvf [output file] [input dir]</code> : create tar file (<code>tar.gz</code>)</li>
<li><code>tar -xvf [input file] -C [output dir]</code> : extract tar file</li>
<li><code>zip</code> : ?</li>
<li><code>unzip</code> : ?</li>
<li><code>hexdump</code> : dump file as hexa</li>
<li><code>find . -name [file] | entr [cmd]</code> : run a cmd whenever a file changes</li>
<li><code>time [cmd]</code> : time execution of cmd</li>
</ul>
<h2>Disk</h2>
<ul>
<li><code>lsblk</code> : list disk</li>
<li><code>fdisk -l</code> : disk info</li>
<li><code>fdisk [disk]</code> : partition disk</li>
<li><code>mount [disk name] [directory]</code> : mount disk</li>
<li><code>umount [directory]</code> : unmount disk</li>
<li><code>cat /proc/mounts</code> : mount info</li>
<li><code>cat /etc/fstab</code> : list mounted disks</li>
</ul>
<h2>Info</h2>
<ul>
<li><code>fastfetch</code> : system info</li>
<li><code>uname -a</code> : show kernel version</li>
<li><code>lscpu</code> : list CPU info</li>
<li><code>lspci</code> : list PCI devices (Bus:Device.Function)<ul>
<li>-v : verbose</li>
<li>-vv : very verbose</li>
<li>-tv : tree</li>
<li>-k : kernel modules/drivers in use</li>
<li>-n : ID of PCI device (VendorID:deviceID)</li>
</ul>
</li>
<li><code>lsusb</code> : list USB devices<ul>
<li>-v : verbose</li>
<li>-t : tree</li>
</ul>
</li>
<li><code>nvidia-smi</code> : show GPU info</li>
<li><code>ifconfig</code> : show network info</li>
<li><code>sudo iftop -P</code> : list TCP sockets</li>
<li><code>netstat -nat</code> : list TCP sockets</li>
<li><code>du -shc * | sort -rh</code> : show size of files in directory<ul>
<li>-s : summary</li>
<li>-h : human readable</li>
<li>-c : show total</li>
<li>-b : bytes</li>
<li>--apparent size</li>
<li>-d [max depth] : max depth</li>
</ul>
</li>
<li><code>du -sh [directory]</code> : show size of directory</li>
<li><code>df</code> : show disks usage</li>
<li><code>free -h --si</code> : show how much RAM</li>
<li><code>htop</code> : list process, kill process</li>
<li><code>btop</code> : list process, kill process</li>
<li><code>sensors</code> : show temperature</li>
<li><code>watch -t -n 1 "sensors | grep 'Core 0:'"</code> : show CPU temperature</li>
<li><code>nmap -Pn -p- -v [ip]</code> : find open ports</li>
<li><code>strace</code> : trace syscalls</li>
<li><code>cat /proc/[pid]</code> : procfs, running processes</li>
<li><code>cat /proc/meminfo</code> : memory info</li>
<li><code>cat /proc/cpuinfo</code> : CPU info (CPUID)</li>
<li><code>cat /proc/interrupts</code> : interrupts in</li>
<li><code>cat /proc/ioports</code> : IO ports</li>
<li><code>cat /proc/iomem</code> : MMIO</li>
<li><code>cat /proc/driver/nvidia/</code> : GPU info</li>
<li><code>cat /proc/stat</code> : all process stats</li>
<li><code>cat /proc/[pid]/stat</code> : process stats</li>
</ul>
<h2>Kernel</h2>
<ul>
<li><code>lsmod</code> : list kernel modules<ul>
<li>also <code>cat /proc/modules</code></li>
</ul>
</li>
<li><code>modprobe [module]</code> : load kernel module and dependencies</li>
<li><code>insmod [module].ko</code> : install kernel module</li>
<li><code>rmmod [module]</code> : remove kernel module</li>
<li><code>modinfo -F [info] [module]</code>: get info about kernel module</li>
<li><code>dmesg | tail -n 5</code> : show kernel log<ul>
<li>-W : show live</li>
</ul>
</li>
<li><code>ls -l /dev</code> : list device files<ul>
<li>major, minor</li>
</ul>
</li>
<li><code>cat /proc/devices</code> : list assigned device numbers</li>
<li><code>mknod [device] c [major] [minor]</code> : create character device</li>
<li><code>rmnod [device]</code></li>
<li><code>head -c 1 [file]</code> : output the first byte of a file</li>
</ul>
<h2>Paths</h2>
<ul>
<li><code>.</code> : current directory</li>
<li><code>..</code> : parent directory</li>
<li><code>~</code> : home directory</li>
<li><code>../relative/path</code> : relative path</li>
<li><code>/absolute/path</code> : absolute path</li>
</ul>
<h2>Pipes</h2>
<ul>
<li><code>A | B</code> : run A and transfer its output to B</li>
<li><code>A &amp; B</code> : run A then B</li>
<li><code>A &amp;&amp; B</code> : run A then B only if A succeeds</li>
<li><code>| grep [some string]</code> : filter out stdout</li>
</ul>
<h2>Redirect</h2>
<ul>
<li><code>&gt;</code> : stdout</li>
<li><code>&lt;</code> : stdin</li>
<li><code>&amp;&gt;</code> : stdout + stderr</li>
<li><code>0&gt;</code> : stdin</li>
<li><code>1&gt;</code> : stdout</li>
<li><code>2&gt;</code> : stderr</li>
<li><code>2&gt;&amp;1</code> : stderr to stdout, can use <code>cmd | tee out.txt</code> to also print on screen</li>
</ul>
<h2>Bash profile</h2>
<ul>
<li><code>~/.bashrc</code><ul>
<li>executed every new shell</li>
</ul>
</li>
<li><code>~/.bash_profile</code><ul>
<li>executed once per login</li>
<li>inherit <code>~/.bashrc</code></li>
</ul>
</li>
</ul>
<h2>Filesystem</h2>
<p><a href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">FSH</a></p>
<ul>
<li><code>/proc</code> : procfs, running processes</li>
<li><code>/dev</code> : udev, devices files</li>
<li><code>/sys</code> : sysfs, devices/bus/drivers/kernel<ul>
<li><code>/sys/bus/pci/devices</code></li>
</ul>
</li>
</ul>
<h2>Time</h2>
<ul>
<li><code>stat [file]</code></li>
</ul>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code>mtime : modified time, last write
atime : access time, last read
    depends on mount options:
        relatime : update atime not every read
        noatime : don&#39;t update atime
ctime : change time, last metadata write or last data write
btime : creation/birth time, first created
</code></pre></div></td></tr></table></div>

<h2>Linux binaries</h2>
<ul>
<li>AppImage (Universal linux binary)</li>
<li>snap (Ubuntu)</li>
<li>flatpak (Fedora)</li>
</ul>
<h2>Docker</h2>
<ul>
<li><code>docker images</code> : list images</li>
<li><code>docker ps</code> : list containers</li>
<li><code>docker pull [image]</code> : download image from docker registry (docker hub)</li>
<li><code>docker rmi [image]</code> : remove image</li>
<li><code>docker image prune</code> : remove untagged images</li>
<li><code>docker build -t [image] .</code> : build image from <code>Dockerfile</code><ul>
<li><code>--nocache</code> : don't use cache</li>
<li><code>--build-arg [var]=[value]</code> : pass env vars</li>
</ul>
</li>
<li><code>docker run -d --name [container] [image]</code> : start container from image<ul>
<li><code>-d</code> : run container in background</li>
<li><code>-it</code> : run container interactively</li>
<li><code>-p [host_port]:[container_port]</code> : open ports</li>
<li><code>--restart=unless-stopped</code> : start container when docker starts</li>
</ul>
</li>
<li><code>docker rm -f [container]</code> : stop and remove container</li>
<li><code>docker logs -f [container]</code> : check container stdout</li>
<li><code>docker exec -it [container] /bin/bash</code> : explore container</li>
<li><code>docker inspect [container]</code> : inspect container</li>
<li><code>docker network ls</code> : list docker networks</li>
<li><code>docker network prune</code> : remove unused docker networks</li>
<li><code>docker scan [image]</code> : check image for vulnerabilities</li>
<li><code>sudo systemctl status docker</code> : check docker status</li>
<li><code>sudo systemctl enable docker</code> : start docker at boot</li>
</ul>
        <hr>
        <footer>
            <div>
                <a href="https://github.com/kevenv"><i class='bx bxl-github bx-sm'></i></a>
                <a href="https://www.linkedin.com/in/kevenv"><i class='bx bxl-linkedin-square bx-sm'></i></a>
                <a href="https://twitter.com/keven_v"><i class='bx bxl-twitter bx-sm'></i></a>
                <a href="discord:kevenv"><i class='bx bxl-discord-alt bx-sm'></i></a>
                <a href="mailto:keven.villeneuve@gmail.com"><i class='bx bxs-envelope bx-sm'></i></a>
            </div>
            <p>&copy; 2024 Keven Villeneuve</p>
        </footer>
    </body>
</html>
